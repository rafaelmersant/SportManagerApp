{"version":3,"sources":["components/common/pagination.jsx","components/common/input.jsx","components/common/searchBox.jsx","components/common/newButton.jsx","components/common/loading.jsx","utils/paginate.js","services/logService.js","services/httpService.js","services/athleteService.js","components/common/tableHeader.jsx","utils/custom.js","components/common/tableBody.jsx","components/common/table.jsx","variables.js","services/authService.js","components/tables/athletesTable.jsx","components/athletes.jsx","components/common/tabsAthlete.jsx","components/common/photoProfile.jsx","components/common/select.jsx","components/common/form.jsx","components/personalInfo.jsx","components/tables/parentsTable.jsx","components/parentInfo.jsx","components/tables/documentsTable.jsx","components/documentInfo.jsx","components/forms/athleteForm.jsx","components/notFound.jsx","components/navBar.jsx","components/forms/loginForm.jsx","components/logout.jsx","services/userService.js","components/tables/usersTable.jsx","components/users.jsx","components/forms/userForm.jsx","components/common/protectedRoute.jsx","components/home.jsx","firebaseConfig.js","App.js","serviceWorker.js","index.js"],"names":["Pagination","props","itemsCount","pageSize","currentPage","onPageChange","pagesCount","Math","ceil","pages","_","range","className","style","display","map","page","key","onClick","Input","name","label","error","rest","htmlFor","id","SearchBox","value","onChange","placeholder","type","e","currentTarget","autoComplete","NewButton","to","NavLink","Loading","width","height","role","paginate","items","pageNumber","startIndex","slice","take","init","log","console","axios","defaults","baseURL","process","interceptors","response","use","status","data","errors","propName","hasOwnProperty","propValue","toast","logger","Promise","reject","get","post","put","delete","setJwt","jwt","headers","common","athleteUrl","parentUrl","documentUrl","getAthleteByFirstLastName","firstName","lastName","http","getAthlete","athleteId","saveAthlete","athlete","body","deleteAthlete","getParents","getParent","parentId","saveParent","parent","deleteParent","getDocuments","getDocument","documentId","saveDocument","document","deleteDocument","TableHeader","raiseSort","path","sortColumn","order","onSort","renderSortIcon","column","this","columns","align","Component","formatNumber","amount","parseFloat","toFixed","replace","TableBody","renderCell","item","content","toLowerCase","includes","formatDateWithoutTime","formatDate","createKey","stringDate","timeFormatted","Date","toLocaleString","hour","minute","hour12","dateFormatted","toLocaleDateString","product_id","classes","ref","el","setProperty","Table","defaultPhoto","token","credentials","a","localStorage","setItem","email","getCurrentUser","getItem","parseInt","ex","login","logout","removeItem","AthletesTable","Link","backgroundImage","photo","backgroundSize","first_name","last_name","age","deleteColumn","onDelete","color","fontSize","cursor","user","auth","push","athletes","Athletes","state","loading","searchQuery","handleDelete","window","confirm","originalAthletes","filter","m","setState","photo_filename","firebase","storage","child","then","catch","handlePageChange","handleSearch","query","handleSort","getPagedData","allAthletes","filtered","toLocaleLowerCase","orderBy","totalCount","length","paddingBottom","TabsAthlete","data-toggle","href","aria-controls","aria-selected","match","params","PhotoProfile","avatar","progress","isUploading","handleChangePhoto","event","file","target","files","selectedPhoto","URL","createObjectURL","handleUploadStart","handleProgress","handleUploadError","handleUploadSuccess","filename","getDownloadURL","url","onChangePhoto","changed","_photo","Fragment","aria-valuenow","aria-valuemin","aria-valuemax","hidden","accept","randomizeFilename","storageRef","onUploadStart","onUploadError","onUploadSuccess","onProgress","Select","options","option","description","Form","erros","validate","Joi","schema","abortEarly","details","message","validateProperty","obj","handleSubmit","preventDefault","doSubmit","handleChange","input","errorMessage","disabled","PersonalInfo","address","phone_number","birthday","enrollment_year","getFullYear","enrollment_month","getMonth","medical_information","created_user","creation_date","toISOString","action","enrollmentYears","enrollmentMonths","number","string","required","max","optional","handleChangeBirthday","date","toJSON","substr","toUpperCase","sessionStorage","old_photo","location","mappedAthlete","mapToViewModel","split","join","history","currentYear","years","forEach","month","index","populateEnrollmentYears","populateEnrollmentMonths","populateAthlete","athleteName","forceUpdate","onSubmit","renderInput","renderSelect","selected","dateFormat","renderButton","ParentsTable","actionColumn","onEdit","parents","ParentInfo","athlete_id","handleDeleteParent","deleted","success","populateParents","handleEditParent","handler","minHeight","DocumentsTable","document_url","rel","documents","DocumentInfo","title","document_filename","documentName","handleDeleteDocument","populateDocuments","handleEditDocument","marginTop","AthleteForm","aria-labelledby","NotFound","NavBar","src","alt","data-target","aria-expanded","aria-label","LoginForm","password","from","pathname","Redirect","Logout","userUrl","getUser","userId","getEmailExists","companyId","saveUser","deleteUser","UsersTable","users","Users","originalUsers","allUsers","startsWith","UserForm","user_role","user_hash","roles","min","company_id","populateUser","ProtectedRoute","component","render","Route","Home","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","initializeApp","App","Switch","exact","Boolean","hostname","ReactDOM","BrowserRouter","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d7d0e645.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport _ from \"lodash\";\n\nconst Pagination = props => {\n  const { itemsCount, pageSize, currentPage, onPageChange } = props;\n\n  const pagesCount = Math.ceil(itemsCount / pageSize);\n  if (pagesCount === 1) return null;\n\n  const pages = _.range(1, pagesCount + 1);\n\n  return (\n    <nav>\n      <ul className=\"pagination\" style={{ display: \"table\" }}>\n        {pages.map(page => (\n          <li\n            style={{ display: \"inline-block\" }}\n            key={page}\n            className={page === currentPage ? \"page-item active\" : \"page-item\"}\n          >\n            <button className=\"page-link\" onClick={() => onPageChange(page)}>\n              {page}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nPagination.propTypes = {\n  itemsCount: PropTypes.number.isRequired,\n  pageSize: PropTypes.number.isRequired,\n  currentPage: PropTypes.number.isRequired,\n  onPageChange: PropTypes.func.isRequired\n};\n\nexport default Pagination;\n","import React from \"react\";\n\nconst Input = ({ name, label, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}> {label} </label>\n      <input {...rest} name={name} id={name} className=\"form-control\" />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Input;\n","import React from \"react\";\nimport Input from \"./input\";\n\nconst SearchBox = ({ value, onChange, placeholder, label = \"\" }) => {\n  return (\n    <Input\n      type=\"text\"\n      name=\"query\"\n      className=\"form-control my-3\"\n      placeholder={placeholder}\n      value={value}\n      label={label}\n      onChange={e => onChange(e.currentTarget.value)}\n      autoComplete=\"off\"\n    />\n  );\n};\n\nexport default SearchBox;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst NewButton = ({ label, to }) => {\n  return (\n    <NavLink className=\"btn btn-fenix-yellow pull-right\" to={to}>\n      {label}\n    </NavLink>\n  );\n};\n\nexport default NewButton;\n","import React from \"react\";\n\nconst Loading = props => {\n  return (\n    <div\n      className=\"spinner-border text-warning\"\n      style={{ width: \"5rem\", height: \"5rem\" }}\n      role=\"status\"\n    >\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n};\n\nexport default Loading;\n","import _ from \"lodash\";\n\nexport function paginate(items, pageNumber, pageSize) {\n  const startIndex = (pageNumber - 1) * pageSize;\n  return _(items)\n    .slice(startIndex)\n    .take(pageSize)\n    .value();\n}\n","//import Raven from \"raven-js\";\n\nfunction init() {\n  //Add config\n}\n\nfunction log(error) {\n  //Raven.captureException(error);\n  console.log(error);\n}\n\nexport default {\n  init,\n  log\n};\n","import axios from \"axios\";\nimport logger from \"./logService\";\nimport { toast } from \"react-toastify\";\n\naxios.defaults.baseURL = process.env.REACT_APP_API_URL;\n\naxios.interceptors.response.use(null, error => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    logger.log(error);\n    toast.error(\"An unexpected error occurred.\");\n  } else {\n    const { data } = error.response;\n\n    var errors = \"\";\n    if (data !== \"null\") {\n      for (var propName in data) {\n        if (data.hasOwnProperty(propName)) {\n          const propValue = data[propName];\n          errors += `${propName} : ${propValue[0]}\\n`;\n        }\n      }\n      toast.error(errors);\n    }\n  }\n\n  return Promise.reject(error);\n});\n\nfunction setJwt(jwt) {\n  axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n}\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n  setJwt\n};\n","import http from \"./httpService\";\n\nconst apiEndpoint = `/athletes`;\nconst apiEndpointParent = `/parents`;\nconst apiEndpointDocument = `/documents`;\n\nfunction athleteUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nfunction parentUrl(id) {\n  return `${apiEndpointParent}/${id}`;\n}\n\nfunction documentUrl(id) {\n  return `${apiEndpointDocument}/${id}`;\n}\n\n// Athletes\n//************************************************************//\nexport function getAthletes() {\n  return http.get(`${apiEndpoint}/`);\n}\n\nexport function getAthletesByName(searchText) {\n  if (searchText) return http.get(`${apiEndpoint}/?search=${searchText}`);\n\n  return http.get(`${apiEndpoint}/`);\n}\n\nexport function getAthleteByFirstLastName(firstName, lastName) {\n  return http.get(\n    `${apiEndpoint}/?first_name=${firstName}&last_name=${lastName}`\n  );\n}\n\nexport function getAthlete(athleteId) {\n  return http.get(`${apiEndpoint}/?id=${athleteId}`);\n}\n\nexport function saveAthlete(athlete) {\n  if (athlete.id) {\n    const body = { ...athlete };\n    delete body.id;\n    return http.put(athleteUrl(athlete.id), body);\n  }\n\n  return http.post(`${apiEndpoint}/`, athlete);\n}\n\nexport function deleteAthlete(athleteId) {\n  return http.delete(athleteUrl(athleteId));\n}\n\n//Parents\n//************************************************************//\nexport function getParents(athleteId) {\n  return http.get(`${apiEndpointParent}/?athlete_id=${athleteId}`);\n}\n\nexport function getParent(parentId) {\n  return http.get(`${apiEndpointParent}/?id=${parentId}`);\n}\n\nexport function saveParent(parent) {\n  if (parent.id) {\n    const body = { ...parent };\n    delete body.id;\n    return http.put(parentUrl(parent.id), body);\n  }\n\n  return http.post(`${apiEndpointParent}/`, parent);\n}\n\nexport function deleteParent(parentId) {\n  return http.delete(parentUrl(parentId));\n}\n\n//Documents\n//************************************************************//\nexport function getDocuments(athleteId) {\n  return http.get(`${apiEndpointDocument}/?athlete_id=${athleteId}`);\n}\n\nexport function getDocument(documentId) {\n  return http.get(`${apiEndpointDocument}/?id=${documentId}`);\n}\n\nexport function saveDocument(document) {\n  if (document.id) {\n    const body = { ...document };\n    delete body.id;\n    return http.put(documentUrl(document.id), body);\n  }\n\n  return http.post(`${apiEndpointDocument}/`, document);\n}\n\nexport function deleteDocument(documentId) {\n  return http.delete(documentUrl(documentId));\n}\n","import React, { Component } from \"react\";\n\n// columns: array\n// sortColumn: object\n// onSort: function\n\nclass TableHeader extends Component {\n  raiseSort = path => {\n    const sortColumn = { ...this.props.sortColumn };\n\n    if (sortColumn.path === path)\n      sortColumn.order = sortColumn.order === \"asc\" ? \"desc\" : \"asc\";\n    else {\n      sortColumn.path = path;\n      sortColumn.order = \"asc\";\n    }\n    this.props.onSort(sortColumn);\n  };\n\n  renderSortIcon = column => {\n    const { sortColumn } = this.props;\n\n    if (column.path !== sortColumn.path) return null;\n    if (sortColumn.order === \"asc\") return <i className=\"fa fa-sort-asc\" />;\n\n    return <i className=\"fa fa-sort-desc\" />;\n  };\n\n  render() {\n    return (\n      <thead className=\"bg-fenix-blue text-fenix-yellow\">\n        <tr>\n          {this.props.columns.map(column => (\n            <th\n              className={\"clickable \" + column.align}\n              key={column.path || column.key}\n              onClick={() => this.raiseSort(column.path)}\n            >\n              {column.label} {this.renderSortIcon(column)}\n            </th>\n          ))}\n        </tr>\n      </thead>\n    );\n  }\n}\n\nexport default TableHeader;\n","export function formatNumber(amount) {\n  return parseFloat(amount)\n    .toFixed(2)\n    .replace(/\\d(?=(\\d{3})+\\.)/g, \"$&,\");\n}\n","import React, { Component } from \"react\";\nimport { formatNumber } from \"../../utils/custom\";\nimport _ from \"lodash\";\n\nclass TableBody extends Component {\n  renderCell = (item, column) => {\n    if (column.content) return column.content(item);\n\n    if (column.path.toLowerCase().includes(\"duedate\"))\n      return this.formatDateWithoutTime(_.get(item, column.path));\n\n    if (column.path.toLowerCase().includes(\"date\"))\n      return this.formatDate(_.get(item, column.path));\n\n    if (\n      column.path.toLowerCase().includes(\"price\") ||\n      column.path.toLowerCase().includes(\"cost\") ||\n      column.path.toLowerCase().includes(\"quantity\") ||\n      column.path.toLowerCase().includes(\"itbis\") ||\n      column.path.toLowerCase().includes(\"discount\") ||\n      column.path.toLowerCase().includes(\"total\")\n    )\n      return formatNumber(_.get(item, column.path));\n\n    return _.get(item, column.path);\n  };\n\n  createKey = (item, column) => {\n    return item.id + (column.path || column.key);\n  };\n\n  formatDate = stringDate => {\n    const time = new Date(stringDate);\n    let timeFormatted = time.toLocaleString(\"en-US\", {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      hour12: true\n    });\n    const dateFormatted = new Date(stringDate).toLocaleDateString();\n\n    return `${dateFormatted} ${timeFormatted}`;\n  };\n\n  formatDateWithoutTime = stringDate => {\n    return new Date(stringDate).toLocaleDateString();\n  };\n\n  render() {\n    const { data, columns } = this.props;\n\n    return (\n      <tbody>\n        {data.map(item => (\n          <tr key={item.product_id || item.id}>\n            {columns.map(column => (\n              <td\n                key={this.createKey(item, column)}\n                className={column.classes}\n                ref={el => {\n                  if (el) {\n                    el.style.setProperty(\"padding\", \"0.30rem\", \"important\");\n                  }\n                }}\n              >\n                {this.renderCell(item, column)}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    );\n  }\n}\n\nexport default TableBody;\n","import React from \"react\";\nimport TableHeader from \"./tableHeader\";\nimport TableBody from \"./tableBody\";\n\nconst Table = ({ columns, sortColumn, onSort, data }) => {\n  return (\n    <table className=\"table table-striped table-bordered\">\n      <TableHeader columns={columns} sortColumn={sortColumn} onSort={onSort} />\n\n      <TableBody columns={columns} data={data} />\n    </table>\n  );\n};\n\nexport default Table;\n","export const defaultPhoto =\n  \"https://firebasestorage.googleapis.com/v0/b/fenix-system-8a811.appspot.com/o/photos%2Fprofile-default.png?alt=media&token=04c86bfc-36cf-4e2b-8b71-20531d960b70\";\n","//import jwtDecode from \"jwt-decode\";\nimport http from \"./httpService\";\n\nconst apiEndpoint = `/auth`;\nconst token = {\n  userId: \"ms_userId\",\n  email: \"ms_email\",\n  name: \"ms_name\",\n  role: \"ms_role\"\n};\n\n//http.setJwt(getJwt());\n\nexport async function login(credentials) {\n  const { data: jwt } = await http.post(`${apiEndpoint}/login/`, credentials);\n\n  localStorage.setItem(token.userId, jwt.id);\n  localStorage.setItem(token.email, jwt.email);\n  localStorage.setItem(token.name, jwt.name);\n  localStorage.setItem(token.role, jwt.role);\n}\n\nexport function logout() {\n  localStorage.removeItem(token.userId);\n  localStorage.removeItem(token.email);\n  localStorage.removeItem(token.name);\n  localStorage.removeItem(token.role);\n}\n\nexport function getCurrentUser() {\n  try {\n    if (!localStorage.getItem(token.email)) return null;\n\n    return {\n      id: parseInt(localStorage.getItem(token.userId)),\n      name: localStorage.getItem(token.name),\n      email: localStorage.getItem(token.email),\n      role: localStorage.getItem(token.role)\n    };\n\n    //jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\n// export function getJwt() {\n//   return localStorage.getItem(tokenKey);\n// }\n\n// export function loginWithJwt(jwt) {\n//   localStorage.setItem(tokenKey, jwt);\n// }\n\nexport default {\n  login,\n  logout,\n  getCurrentUser\n};\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Table from \"../common/table\";\nimport { defaultPhoto } from \"../../variables\";\nimport auth from \"../../services/authService\";\n\nclass AthletesTable extends Component {\n  columns = [\n    {\n      path: \"photo\",\n      label: \"Foto\",\n      content: athlete => (\n        <Link to={`/athlete/${athlete.id}`}>\n          <div className=\"text-center\">\n            <div\n              className=\"border rounded-circle d-inline-block\"\n              style={{\n                width: \"75px\",\n                height: \"75px\",\n                backgroundImage:\n                  \"url(\" + (athlete.photo ? athlete.photo : defaultPhoto) + \")\",\n                backgroundSize: \"cover\"\n              }}\n            ></div>\n          </div>\n        </Link>\n      )\n    },\n    {\n      path: \"first_name\",\n      label: \"Nombre\",\n      classes: \"align-middle\",\n      content: athlete => (\n        <Link to={`/athlete/${athlete.id}`}>{athlete.first_name}</Link>\n      )\n    },\n    {\n      path: \"last_name\",\n      label: \"Apellido\",\n      classes: \"align-middle\",\n      content: athlete => (\n        <Link to={`/athlete/${athlete.id}`}> {athlete.last_name} </Link>\n      )\n    },\n    // { path: \"email\", label: \"Email\", classes: \"align-middle\" },\n    // { path: \"phone_number\", label: \"Teléfono\", classes: \"align-middle\" },\n    {\n      path: \"age\",\n      label: \"Edad\",\n      classes: \"align-middle\",\n      content: athlete => <span>{athlete.age} años</span>\n    },\n    {\n      path: \"creation_date\",\n      label: \"Creado (m/d/a)\",\n      align: \"d-none d-md-table-cell d-lg-table-cell border-0\",\n      classes: \"align-middle d-none d-md-table-cell d-lg-table-cell border-0\"\n    }\n  ];\n\n  deleteColumn = {\n    key: \"delete\",\n    classes: \"align-middle\",\n    content: athlete => (\n      <div className=\"text-center pl-2 pr-2\">\n        <span\n          onClick={() => this.props.onDelete(athlete)}\n          className=\"fa fa-trash\"\n          style={{ color: \"red\", fontSize: \"24px\", cursor: \"pointer\" }}\n        ></span>\n      </div>\n    )\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser().email;\n    const role = auth.getCurrentUser().role;\n\n    if (user && (role === \"Admin\" || role === \"Owner\"))\n      this.columns.push(this.deleteColumn);\n  }\n\n  render() {\n    const { athletes, sortColumn, onSort } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={athletes}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default AthletesTable;\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport _ from \"lodash\";\nimport Pagination from \"./common/pagination\";\nimport SearchBox from \"./common/searchBox\";\nimport NewButton from \"./common/newButton\";\nimport Loading from \"./common/loading\";\nimport { paginate } from \"../utils/paginate\";\nimport { getAthletes, deleteAthlete } from \"../services/athleteService\";\nimport AthletesTable from \"./tables/athletesTable\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\nclass Athletes extends Component {\n  state = {\n    loading: true,\n    athletes: [],\n    currentPage: 1,\n    pageSize: 10,\n    searchQuery: \"\",\n    sortColumn: { path: \"creationDate\", order: \"desc\" }\n  };\n\n  async componentDidMount() {\n    const { data: athletes } = await getAthletes();\n\n    this.setState({ athletes, loading: false });\n  }\n\n  handleDelete = async athlete => {\n    const answer = window.confirm(\n      `Esta seguro de eliminar al atleta ${athlete.first_name} ${athlete.last_name}? \\nNo podrá deshacer esta acción`\n    );\n    if (answer) {\n      const originalAthletes = this.state.athletes;\n      const athletes = this.state.athletes.filter(m => m.id !== athlete.id);\n      this.setState({ athletes });\n\n      try {\n        await deleteAthlete(athlete.id);\n\n        //Remove old photo from firebase\n        if (athlete.photo_filename)\n          firebase\n            .storage()\n            .ref(\"photos\")\n            .child(athlete.photo_filename)\n            .delete()\n            .then(() => {\n              console.log(`file ${athlete.photo_filename} deleted`);\n            })\n            .catch(error => {\n              console.log(error);\n            });\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404)\n          toast.error(\"Este atleta ya fue eliminado\");\n\n        this.setState({ athletes: originalAthletes });\n      }\n    }\n  };\n\n  handlePageChange = page => {\n    this.setState({ currentPage: page });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, currentPage: 1 });\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  getPagedData = () => {\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery,\n      athletes: allAthletes\n    } = this.state;\n\n    let filtered = allAthletes;\n    if (searchQuery)\n      filtered = allAthletes.filter(m =>\n        `${m.first_name.toLowerCase()} ${m.last_name.toLowerCase()}`.includes(\n          searchQuery.toLocaleLowerCase()\n        )\n      );\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const athletes = paginate(sorted, currentPage, pageSize);\n\n    return { totalCount: filtered.length, athletes };\n  };\n\n  render() {\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n    const { user } = this.props;\n\n    const { totalCount, athletes } = this.getPagedData();\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col margin-top-msg\">\n            <h5 className=\"pull-left text-fenix-blue mt-2\">\n              Listado de Atletas\n            </h5>\n            <div className=\"mb-4\">\n              <NewButton label=\"Nuevo Atleta\" to=\"/athlete/new\" />\n            </div>\n\n            <SearchBox\n              value={searchQuery}\n              onChange={this.handleSearch}\n              placeholder=\"Buscar...\"\n            />\n\n            {this.state.loading && (\n              <div className=\"d-flex justify-content-center mb-3\">\n                <Loading />\n              </div>\n            )}\n\n            {!this.state.loading && athletes.length > 0 && (\n              <AthletesTable\n                athletes={athletes}\n                user={user}\n                sortColumn={sortColumn}\n                onDelete={this.handleDelete}\n                onSort={this.handleSort}\n              />\n            )}\n\n            {!this.state.loading && athletes.length > 0 && (\n              <div className=\"row\">\n                <Pagination\n                  itemsCount={totalCount}\n                  pageSize={pageSize}\n                  currentPage={currentPage}\n                  onPageChange={this.handlePageChange}\n                />\n                <p className=\"text-muted ml-3 mt-2\">\n                  <em>\n                    Mostrando {athletes.length} de {totalCount} atletas\n                  </em>\n                </p>\n              </div>\n            )}\n\n            {!athletes.length > 0 && (\n              <div\n                className=\"text-center mt-3\"\n                style={{ paddingBottom: \"8rem\" }}\n              >\n                <span\n                  className=\"fa fa-user text-muted\"\n                  style={{ fontSize: \"6em\" }}\n                ></span>\n                <h2 className=\"text-secondary\">Aún no ha agregado atletas</h2>\n                <h4 className=\"text-secondary\">Buen momento para iniciar</h4>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Athletes;\n","import React from \"react\";\n\nconst TabsAthlete = props => {\n  return (\n    <ul className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\">\n      <li className=\"nav-item\">\n        <a\n          className=\"nav-link active\"\n          id=\"profile-tab\"\n          data-toggle=\"tab\"\n          href=\"#profile\"\n          role=\"tab\"\n          aria-controls=\"profile\"\n          aria-selected=\"true\"\n        >\n          Perfil\n        </a>\n      </li>\n      {props.match.params.id !== \"new\" && (\n        <li className=\"nav-item\">\n          <a\n            className=\"nav-link\"\n            id=\"parent-tab\"\n            data-toggle=\"tab\"\n            href=\"#parent\"\n            role=\"tab\"\n            aria-controls=\"parent\"\n            aria-selected=\"false\"\n          >\n            Relacionados\n          </a>\n        </li>\n      )}\n      {props.match.params.id !== \"new\" && (\n        <li className=\"nav-item\">\n          <a\n            className=\"nav-link\"\n            id=\"document-tab\"\n            data-toggle=\"tab\"\n            href=\"#document\"\n            role=\"tab\"\n            aria-controls=\"document\"\n            aria-selected=\"false\"\n          >\n            Documentos\n          </a>\n        </li>\n      )}\n    </ul>\n  );\n};\n\nexport default TabsAthlete;\n","import React, { Component } from \"react\";\nimport { defaultPhoto } from \"../../variables\";\nimport FileUploader from \"react-firebase-file-uploader\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\nclass PhotoProfile extends Component {\n  state = {\n    avatar: \"\",\n    photo: \"\",\n    progress: 0,\n    isUploading: false\n  };\n\n  handleChangePhoto = event => {\n    const file = event.target.files[0];\n\n    this.setState({\n      selectedPhoto: file,\n      photo: URL.createObjectURL(event.target.files[0])\n    });\n  };\n\n  handleUploadStart = () => this.setState({ isUploading: true });\n\n  handleProgress = progress => this.setState({ progress });\n\n  handleUploadError = error => {\n    this.setState({ isUploading: false });\n    console.error(error);\n  };\n\n  handleUploadSuccess = filename => {\n    this.setState({ avatar: filename, progress: 100, isUploading: false });\n\n    firebase\n      .storage()\n      .ref(\"photos\")\n      .child(filename)\n      .getDownloadURL()\n      .then(url => {\n        this.setState({ photo: url });\n        this.props.onChangePhoto({ url, filename, changed: true });\n      });\n  };\n\n  render() {\n    const _photo = this.props.photo ? this.props.photo : defaultPhoto;\n\n    let { photo, progress, isUploading } = { ...this.state };\n    photo = photo ? photo : _photo;\n\n    return (\n      <React.Fragment>\n        <div className=\"text-center\">\n          <div id=\"container\"></div>\n          <div\n            className=\"border shadow rounded-circle d-inline-block\"\n            style={{\n              width: \"170px\",\n              height: \"170px\",\n              backgroundImage: \"url(\" + photo + \")\",\n              backgroundSize: \"cover\"\n              // transform: \"rotate(90deg)\"\n            }}\n          ></div>\n        </div>\n        <div className=\"text-center\">\n          {isUploading && (\n            <div className=\"progress\">\n              <div\n                className=\"progress-bar\"\n                role=\"progressbar\"\n                style={{ width: `${progress}%` }}\n                aria-valuenow={progress}\n                aria-valuemin=\"0\"\n                aria-valuemax=\"100\"\n              >\n                {progress}%\n              </div>\n            </div>\n          )}\n\n          <label>\n            <FileUploader\n              hidden\n              accept=\"image/*\"\n              name=\"avatar\"\n              randomizeFilename\n              storageRef={firebase.storage().ref(\"photos\")}\n              onUploadStart={this.handleUploadStart}\n              onUploadError={this.handleUploadError}\n              onUploadSuccess={this.handleUploadSuccess}\n              onProgress={this.handleProgress}\n              // metadata={{ cacheControl: \"max-age=3600\" }}\n            />\n            <h6 className=\"text-info\" style={{ cursor: \"pointer\" }}>\n              Cargar foto\n            </h6>\n          </label>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PhotoProfile;\n","import React from \"react\";\n\nconst Select = ({ name, label, options, error, ...rest }) => {\n  return (\n    <div className=\"form-group\">\n      <label htmlFor={name}> {label} </label>\n      <select name={name} id={name} {...rest} className=\"form-control\">\n        <option value=\"\" />\n        {options.map(option => (\n          <option key={option.id} value={option.id}>\n            {option.name ? option.name : option.description}\n          </option>\n        ))}\n      </select>\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n\nexport default Select;\n","import React, { Component } from \"react\";\nimport Joi from \"joi-browser\";\nimport Input from \"./input\";\nimport Select from \"./select\";\n\nclass Form extends Component {\n  state = {\n    data: {},\n    erros: {}\n  };\n\n  validate = () => {\n    const options = { abortEarly: false };\n    const { error } = Joi.validate(this.state.data, this.schema, options);\n    if (!error) return null;\n\n    const errors = {};\n    for (let item of error.details) errors[item.path[0]] = item.message;\n    // console.log(errors);\n    return errors;\n  };\n\n  validateProperty = ({ name, value }) => {\n    const obj = { [name]: value };\n    const schema = { [name]: this.schema[name] };\n    const { error } = Joi.validate(obj, schema);\n\n    return error ? error.details[0].message : null;\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const errors = this.validate();\n    this.setState({ errors: errors || {} });\n    if (errors) return;\n\n    this.doSubmit();\n  };\n\n  handleChange = ({ currentTarget: input }) => {\n    const errors = { ...this.state.errors };\n    const errorMessage = this.validateProperty(input);\n\n    if (errorMessage) errors[input.name] = errorMessage;\n    else delete errors[input.name];\n\n    const data = { ...this.state.data };\n    data[input.name] = input.value;\n\n    this.setState({ data, errors });\n  };\n\n  renderButton(label) {\n    return (\n      <button\n        disabled={this.validate()}\n        className=\"btn bg-fenix-yellow pl-5 pr-5\"\n      >\n        {label}\n      </button>\n    );\n  }\n\n  renderSelect(name, label, options) {\n    const { data, errors } = this.state;\n\n    return (\n      <Select\n        name={name}\n        value={data[name]}\n        label={label}\n        options={options}\n        onChange={this.handleChange}\n        error={errors[name]}\n      />\n    );\n  }\n\n  renderInput(name, label, type = \"text\", disabled = \"\", placeholder = \"\") {\n    const { data, errors } = this.state;\n\n    return (\n      <Input\n        disabled={disabled}\n        type={type}\n        name={name}\n        value={data[name]}\n        label={label}\n        onChange={this.handleChange}\n        error={errors[name]}\n        placeholder={placeholder}\n        autoComplete=\"off\"\n      />\n    );\n  }\n}\n\nexport default Form;\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport { toast } from \"react-toastify\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n// import { registerLocale } from \"react-datepicker\";\n// import es from \"date-fns/locale/es\";\nimport Form from \"./common/form\";\nimport {\n  getAthlete,\n  saveAthlete,\n  getAthleteByFirstLastName\n} from \"../services/athleteService\";\nimport { getCurrentUser } from \"../services/authService\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\n// registerLocale(\"es\", es);\n\nclass PersonalInfo extends Form {\n  state = {\n    data: {\n      id: 0,\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      address: \"\",\n      phone_number: \"\",\n      photo: \"\",\n      photo_filename: \"\",\n      birthday: \"\", //new Date().toJSON().substr(0, 10),\n      enrollment_year: new Date().getFullYear(),\n      enrollment_month: new Date().getMonth() + 1,\n      medical_information: \"\",\n      created_user: getCurrentUser().email,\n      creation_date: new Date().toISOString()\n    },\n    errors: {},\n    action: \"Nuevo Atleta\",\n    birthday: \"\",\n    enrollmentYears: [],\n    enrollmentMonths: []\n  };\n\n  schema = {\n    id: Joi.number(),\n    first_name: Joi.string()\n      .required()\n      .max(100)\n      .label(\"Nombre\"),\n    last_name: Joi.string()\n      .required()\n      .max(100)\n      .label(\"Apellidos\"),\n    email: Joi.optional(),\n    address: Joi.optional(),\n    phone_number: Joi.optional(),\n    photo: Joi.optional(),\n    photo_filename: Joi.optional(),\n    birthday: Joi.string(),\n    enrollment_year: Joi.optional(),\n    enrollment_month: Joi.optional(),\n    medical_information: Joi.optional(),\n    created_user: Joi.string(),\n    creation_date: Joi.string()\n  };\n\n  async populateAthlete() {\n    try {\n      const athleteId = this.props.match.params.id;\n      if (athleteId === \"new\") return;\n\n      const { data: athlete } = await getAthlete(athleteId);\n      const mappedAthlete = this.mapToViewModel(athlete);\n\n      this.setState({\n        data: mappedAthlete,\n        action: \"Editar Atleta\",\n        birthday: new Date(athlete[0].birthday.split(\"-\").join(\"/\"))\n      });\n\n      this.props.onChangePhoto({\n        url: athlete[0].photo,\n        filename: athlete[0].photo_filename\n      });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace(\"/not-found\");\n    }\n  }\n\n  populateEnrollmentYears() {\n    const initYear = 2000;\n    let currentYear = new Date().getFullYear();\n    let years = [];\n\n    while (currentYear >= initYear) {\n      years.push({ id: currentYear, name: currentYear });\n      currentYear -= 1;\n    }\n\n    this.setState({ enrollmentYears: years });\n  }\n\n  populateEnrollmentMonths() {\n    const enrollmentMonths = [];\n    const months = [\n      \"Enero\",\n      \"Febrero\",\n      \"Marzo\",\n      \"Abril\",\n      \"Mayo\",\n      \"Junio\",\n      \"Julio\",\n      \"Agosto\",\n      \"Septiembre\",\n      \"Octubre\",\n      \"Noviembre\",\n      \"Diciembre\"\n    ];\n\n    months.forEach((month, index) => {\n      enrollmentMonths.push({ id: index + 1, name: month });\n    });\n\n    this.setState({ enrollmentMonths });\n  }\n\n  async componentDidMount() {\n    this.populateEnrollmentYears();\n    this.populateEnrollmentMonths();\n\n    await this.populateAthlete();\n\n    if (this.props.athleteName && this.props.athleteName.length) {\n      const data = { ...this.state.data };\n      data.first_name = this.props.athleteName;\n      this.setState({ data });\n      this.forceUpdate();\n    }\n  }\n\n  handleChangeBirthday = date => {\n    const data = { ...this.state.data };\n    data.birthday = date.toJSON().substr(0, 10);\n    this.setState({ data, birthday: date });\n  };\n\n  mapToViewModel(athlete) {\n    return {\n      id: athlete[0].id,\n      first_name: athlete[0].first_name,\n      last_name: athlete[0].last_name,\n      email: athlete[0].email ? athlete[0].email : \"\",\n      address: athlete[0].address ? athlete[0].address : \"\",\n      phone_number: athlete[0].phone_number ? athlete[0].phone_number : \"\",\n      photo: athlete[0].photo ? athlete[0].photo : \"\",\n      photo_filename: athlete[0].photo_filename\n        ? athlete[0].photo_filename\n        : \"\",\n      birthday: athlete[0].birthday ? athlete[0].birthday : \"\",\n      enrollment_year: athlete[0].enrollment_year\n        ? athlete[0].enrollment_year\n        : \"\",\n      enrollment_month: athlete[0].enrollment_month\n        ? athlete[0].enrollment_month\n        : \"\",\n      medical_information: athlete[0].medical_information\n        ? athlete[0].medical_information\n        : \"\",\n      created_user: athlete[0].created_user\n        ? athlete[0].created_user\n        : getCurrentUser().email,\n      creation_date: athlete[0].creation_date\n    };\n  }\n\n  doSubmit = async () => {\n    const { data: _athlete } = await getAthleteByFirstLastName(\n      this.state.data.first_name.toUpperCase(),\n      this.state.data.last_name.toUpperCase()\n    );\n\n    if (_athlete.length > 0 && this.state.data.id === 0) {\n      toast.error(\"Este atleta ya existe!\");\n      return false;\n    }\n\n    const { data } = { ...this.state };\n    data.first_name = data.first_name.toUpperCase();\n    data.last_name = data.last_name.toUpperCase();\n    data.birthday = data.birthday\n      ? new Date(this.state.birthday).toJSON().substr(0, 10)\n      : \"\";\n\n    data.photo = data.id === 0 ? \"\" : data.photo;\n\n    if (sessionStorage[\"newPhoto\"]) {\n      var { photo_filename: old_photo } = { ...this.state.data };\n\n      data.photo = sessionStorage[\"newPhoto\"];\n      data.photo_filename = sessionStorage[\"newPhoto_filename\"];\n    }\n\n    const { data: athlete } = await saveAthlete(data);\n    console.log(athlete);\n\n    //Remove old photo from firebase\n    if (old_photo)\n      firebase\n        .storage()\n        .ref(\"photos\")\n        .child(old_photo)\n        .delete()\n        .then(() => {\n          console.log(`file ${old_photo} deleted`);\n        })\n        .catch(error => {\n          console.log(error);\n        });\n\n    sessionStorage[\"newPhoto\"] = \"\";\n    sessionStorage[\"newPhoto_filename\"] = \"\";\n\n    window.location = `/athlete/${athlete.id}`;\n    //this.props.history.push(`/athlete/${athlete.id}`);\n  };\n\n  render() {\n    return (\n      <React.Fragment>\n        <h4 className=\"text-fenix-yellow bg-fenix-blue pl-1 pr-1 pt-1 pb-1\">\n          {this.state.action}\n        </h4>\n\n        <div className=\"col-12 pb-5 bg-light\">\n          <form onSubmit={this.handleSubmit}>\n            <div className=\"row\">\n              <div className=\"col-lg-6 col-md-6 col-sm-12\">\n                {this.renderInput(\"first_name\", \"Nombre\")}\n              </div>\n              <div className=\"col-lg-6 col-md-6 col-sm-12\">\n                {this.renderInput(\"last_name\", \"Apellidos\")}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-lg-6 col-md-6 col-sm-12\">\n                {this.renderInput(\"email\", \"Email\")}\n              </div>\n              <div className=\"col-lg-6 col-md-6 col-sm-12\">\n                {this.renderInput(\"phone_number\", \"Teléfono\")}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-lg-3 col-md-3 col-sm-12\">\n                {this.renderSelect(\n                  \"enrollment_year\",\n                  \"Año de Inscripción\",\n                  this.state.enrollmentYears\n                )}\n              </div>\n              <div className=\"col-lg-3 col-md-3 col-sm-12\">\n                {this.renderSelect(\n                  \"enrollment_month\",\n                  \"Mes de Inscripción\",\n                  this.state.enrollmentMonths\n                )}\n              </div>\n              <div className=\"col-6\">\n                <label className=\"d-block\">Fecha de Nacimiento</label>\n                <DatePicker\n                  selected={this.state.birthday}\n                  onChange={date => this.handleChangeBirthday(date)}\n                  dateFormat=\"dd/MM/yyyy\"\n                />\n              </div>\n            </div>\n\n            {this.renderInput(\"address\", \"Dirección\", \"text\", \"\", \"Opcional\")}\n            {this.renderInput(\"medical_information\", \"Información médica\")}\n\n            <div className=\"text-center mt-2\">\n              {this.renderButton(\"Guardar\")}\n            </div>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PersonalInfo;\n","import React, { Component } from \"react\";\nimport Table from \"../common/table\";\nimport auth from \"../../services/authService\";\n\nclass ParentsTable extends Component {\n  columns = [\n    { path: \"name\", label: \"Nombre\" },\n    { path: \"phone_number\", label: \"Teléfono\" },\n    { path: \"email\", label: \"Email\" }\n  ];\n\n  actionColumn = {\n    path: \"action\",\n    key: \"action\",\n    classes: \"text-center\",\n    content: parent => (\n      <div>\n        <div className=\"d-inline-block mr-1\">\n          <span\n            onClick={() => this.props.onDelete(parent)}\n            className=\"fa fa-trash text-danger\"\n            style={{ fontSize: \"22px\", cursor: \"pointer\" }}\n          ></span>\n        </div>\n        <div className=\"d-inline-block ml-1\">\n          <span\n            onClick={() => this.props.onEdit(parent)}\n            className=\"fa fa-edit text-warning\"\n            style={{ fontSize: \"22px\", cursor: \"pointer\" }}\n          ></span>\n        </div>\n      </div>\n    )\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser().email;\n    const role = auth.getCurrentUser().role;\n\n    if (user && (role === \"Admin\" || role === \"Owner\"))\n      this.columns.push(this.actionColumn);\n  }\n\n  render() {\n    const { parents, sortColumn, onSort } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={parents}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default ParentsTable;\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport { toast } from \"react-toastify\";\nimport Form from \"./common/form\";\nimport {\n  getParent,\n  getParents,\n  saveParent,\n  deleteParent\n} from \"../services/athleteService\";\nimport { getCurrentUser } from \"../services/authService\";\nimport ParentsTable from \"./tables/parentsTable\";\n\nclass ParentInfo extends Form {\n  state = {\n    data: {\n      id: 0,\n      athlete_id: parseInt(this.props.match.params.id),\n      name: \"\",\n      phone_number: \"\",\n      email: \"\",\n      created_user: getCurrentUser().email,\n      creation_date: new Date().toISOString()\n    },\n    parents: [],\n    errors: {}\n  };\n\n  schema = {\n    id: Joi.number(),\n    athlete_id: Joi.number(),\n    name: Joi.string()\n      .required()\n      .max(150)\n      .label(\"Nombre\"),\n    phone_number: Joi.optional(),\n    email: Joi.optional(),\n    created_user: Joi.string(),\n    creation_date: Joi.string()\n  };\n\n  async populateParents() {\n    try {\n      const athleteId = this.props.match.params.id;\n      if (athleteId === \"new\") return;\n\n      const { data: parents } = await getParents(athleteId);\n      this.setState({\n        parents\n      });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace(\"/not-found\");\n    }\n  }\n\n  async componentDidMount() {\n    await this.populateParents();\n  }\n\n  mapToViewModel(parent) {\n    return {\n      id: parent[0].id,\n      athlete_id: parent[0].athlete_id,\n      name: parent[0].name,\n      phone_number: parent[0].phone_number ? parent[0].phone_number : \"\",\n      email: parent[0].email ? parent[0].email : \"\",\n      created_user: parent[0].created_user\n        ? parent[0].created_user\n        : getCurrentUser().email,\n      creation_date: parent[0].creation_date\n    };\n  }\n\n  handleSort = () => {\n    console.log(\"sorted\");\n  };\n\n  handleDeleteParent = async parent => {\n    const answer = window.confirm(\n      `Seguro que desea eliminar a: ${parent.name}`\n    );\n\n    if (answer) {\n      try {\n        var deleted = await deleteParent(parent.id);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404)\n          toast.error(\"Este registro ya fue eliminado\");\n      }\n\n      if (deleted && deleted.status === 200) {\n        toast.success(`${parent.name} fue eliminado con exito!`);\n        this.populateParents();\n      }\n    }\n  };\n\n  handleEditParent = async parent => {\n    const handler = e => {\n      e.preventDefault();\n    };\n    handler(window.event);\n\n    const { data: item } = await getParent(parent.id);\n\n    if (item) {\n      const data = {\n        id: item[0].id,\n        athlete_id: item[0].athlete.id,\n        name: item[0].name,\n        phone_number: item[0].phone_number,\n        email: item[0].email,\n        created_user: getCurrentUser().email,\n        creation_date: new Date().toISOString()\n      };\n\n      this.setState({ data });\n    }\n  };\n\n  doSubmit = async () => {\n    const { data } = { ...this.state };\n    data.name = data.name.toUpperCase();\n\n    try {\n      const { data: parent } = await saveParent(data);\n\n      data.id = 0;\n      data.name = \"\";\n      data.phone_number = \"\";\n      data.email = \"\";\n\n      this.setState({ data });\n\n      console.log(parent);\n    } catch (ex) {\n      console.log(ex);\n    }\n\n    await this.populateParents();\n    toast.success(\"Agregado con exito!\");\n  };\n\n  render() {\n    const { parents } = { ...this.state };\n\n    return (\n      <React.Fragment>\n        <div>\n          <h4 className=\"text-fenix-yellow bg-fenix-blue pl-1 pr-1 pt-1 pb-1\">\n            Agregar un Relacionado\n          </h4>\n\n          <div className=\"col-12 pb-3 mb-3 bg-light\">\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"row\">\n                <div className=\"col-lg-4 col-md-4 col-sm-12\">\n                  {this.renderInput(\"name\", \"Nombre\")}\n                </div>\n                <div className=\"col-lg-4 col-md-4 col-sm-12\">\n                  {this.renderInput(\"phone_number\", \"Teléfonos\")}\n                </div>\n                <div className=\"col-lg-4 col-md-4 col-sm-12\">\n                  {this.renderInput(\"email\", \"Email\")}\n                </div>\n              </div>\n\n              <div className=\"text-left\">{this.renderButton(\"Guardar\")}</div>\n            </form>\n          </div>\n        </div>\n\n        <div>\n          <div className=\"row\">\n            <div className=\"col\">\n              {parents.length > 0 && (\n                <div style={{ minHeight: \"330px\" }}>\n                  <ParentsTable\n                    parents={parents}\n                    sortColumn={{ path: \"name\", order: \"asc\" }}\n                    onDelete={this.handleDeleteParent}\n                    onEdit={this.handleEditParent}\n                    onSort={this.handleSort}\n                  />\n                </div>\n              )}\n\n              {!parents.length > 0 && (\n                <div\n                  className=\"text-center mt-3\"\n                  style={{ paddingBottom: \"8rem\" }}\n                >\n                  <span\n                    className=\"fa fa-users text-muted\"\n                    style={{ fontSize: \"6em\" }}\n                  ></span>\n                  <h2 className=\"text-secondary\">\n                    Aún no ha agregado relacionados\n                  </h2>\n                  <h4 className=\"text-secondary\">Buen momento para iniciar</h4>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default ParentInfo;\n","import React, { Component } from \"react\";\nimport Table from \"../common/table\";\nimport auth from \"../../services/authService\";\n\nclass DocumentsTable extends Component {\n  columns = [\n    { path: \"title\", label: \"Titulo\" },\n    {\n      path: \"document_url\",\n      label: \"Archivo\",\n      align: \"text-center\",\n      classes: \"text-center\",\n      content: document => (\n        <a\n          href={document.document_url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <div className=\"text-center\">\n            <span className=\"fa fa-file\"></span>\n          </div>\n        </a>\n      )\n    },\n    {\n      path: \"creation_date\",\n      label: \"Agregado\",\n      align: \"text-center\",\n      classes: \"text-center\"\n    }\n  ];\n\n  actionColumn = {\n    path: \"action\",\n    key: \"action\",\n    classes: \"text-center\",\n    content: document => (\n      <div>\n        <div className=\"d-inline-block mr-1\">\n          <span\n            onClick={() => this.props.onDelete(document)}\n            className=\"fa fa-trash text-danger\"\n            style={{ fontSize: \"22px\", cursor: \"pointer\" }}\n          ></span>\n        </div>\n        <div className=\"d-inline-block ml-1\">\n          <span\n            onClick={() => this.props.onEdit(document)}\n            className=\"fa fa-edit text-warning\"\n            style={{ fontSize: \"22px\", cursor: \"pointer\" }}\n          ></span>\n        </div>\n      </div>\n    )\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser().email;\n    const role = auth.getCurrentUser().role;\n\n    if (user && (role === \"Admin\" || role === \"Owner\"))\n      this.columns.push(this.actionColumn);\n  }\n\n  render() {\n    const { documents, sortColumn, onSort } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={documents}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default DocumentsTable;\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport { toast } from \"react-toastify\";\nimport FileUploader from \"react-firebase-file-uploader\";\nimport Form from \"./common/form\";\nimport {\n  getDocument,\n  getDocuments,\n  saveDocument,\n  deleteDocument\n} from \"../services/athleteService\";\nimport { getCurrentUser } from \"../services/authService\";\nimport DocumentsTable from \"./tables/documentsTable\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\nclass DocumentInfo extends Form {\n  state = {\n    data: {\n      id: 0,\n      athlete_id: parseInt(this.props.match.params.id),\n      title: \"\",\n      document_url: \"\",\n      document_filename: \"\",\n      created_user: getCurrentUser().email,\n      creation_date: new Date().toISOString()\n    },\n    documents: [],\n    errors: {},\n    documentName: \"\",\n    progress: 0,\n    isUploading: false\n  };\n\n  schema = {\n    id: Joi.number(),\n    athlete_id: Joi.number(),\n    title: Joi.string()\n      .required()\n      .max(150)\n      .label(\"Titulo\"),\n    document_url: Joi.string(),\n    document_filename: Joi.string(),\n    created_user: Joi.string(),\n    creation_date: Joi.string()\n  };\n\n  async populateDocuments() {\n    try {\n      const athleteId = this.props.match.params.id;\n      if (athleteId === \"new\") return;\n\n      const { data: documents } = await getDocuments(athleteId);\n      this.setState({\n        documents\n      });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace(\"/not-found\");\n    }\n  }\n\n  async componentDidMount() {\n    await this.populateDocuments();\n  }\n\n  mapToViewModel(document) {\n    return {\n      id: document[0].id,\n      athlete_id: document[0].athlete_id,\n      title: document[0].title,\n      document_url: document[0].document_url ? document[0].document_url : \"\",\n      created_user: document[0].created_user\n        ? document[0].created_user\n        : getCurrentUser().email,\n      creation_date: document[0].creation_date\n    };\n  }\n\n  handleSort = () => {\n    console.log(\"sorted\");\n  };\n\n  handleDeleteDocument = async document => {\n    const answer = window.confirm(\n      `Seguro que desea eliminar: ${document.title}`\n    );\n\n    if (answer) {\n      try {\n        var deleted = await deleteDocument(document.id);\n\n        firebase\n          .storage()\n          .ref(\"documents\")\n          .child(document.document_filename)\n          .delete()\n          .then(() => {\n            console.log(`file ${document.document_filename} deleted`);\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404)\n          toast.error(\"Este registro ya fue eliminado\");\n      }\n\n      if (deleted && deleted.status === 200) {\n        toast.success(`${document.title} fue eliminado con exito!`);\n        this.populateDocuments();\n      }\n    }\n  };\n\n  handleEditDocument = async document => {\n    const handler = e => {\n      e.preventDefault();\n    };\n    handler(window.event);\n\n    const { data: item } = await getDocument(document.id);\n\n    if (item) {\n      const data = {\n        id: item[0].id,\n        athlete_id: item[0].athlete.id,\n        title: item[0].title,\n        document_url: item[0].document_url,\n        created_user: getCurrentUser().email,\n        creation_date: new Date().toISOString()\n      };\n\n      this.setState({ data });\n    }\n  };\n\n  handleUploadStart = () => this.setState({ isUploading: true });\n\n  handleProgress = progress => this.setState({ progress });\n\n  handleUploadError = error => {\n    this.setState({ isUploading: false });\n    toast.error(`Hubo un error al tratar de cargar el documento \\n ${error}`);\n    console.error(error);\n  };\n\n  handleUploadSuccess = filename => {\n    this.setState({\n      documentName: filename,\n      progress: 100,\n      isUploading: false\n    });\n\n    const { data } = { ...this.state };\n\n    firebase\n      .storage()\n      .ref(\"documents\")\n      .child(filename)\n      .getDownloadURL()\n      .then(url => {\n        data.document_url = url;\n        data.document_filename = filename;\n\n        this.setState({ data });\n      });\n  };\n\n  doSubmit = async () => {\n    const { data } = { ...this.state };\n    data.title = data.title.toUpperCase();\n\n    try {\n      const { data: document } = await saveDocument(data);\n\n      data.id = 0;\n      data.title = \"\";\n      data.document_url = \"\";\n\n      this.setState({ data });\n\n      console.log(document);\n    } catch (ex) {\n      console.log(ex);\n    }\n\n    await this.populateDocuments();\n    toast.success(\"Agregado con exito!\");\n  };\n\n  render() {\n    const { isUploading, progress, documents } = {\n      ...this.state\n    };\n\n    return (\n      <React.Fragment>\n        <div>\n          <h4 className=\"text-fenix-yellow bg-fenix-blue pl-1 pr-1 pt-1 pb-1\">\n            Agregar un Documento\n          </h4>\n\n          <div className=\"col-12 pb-3 mb-3 bg-light\">\n            <form onSubmit={this.handleSubmit}>\n              <div className=\"row\">\n                <div className=\"col-lg-6 col-md-6 col-sm-12\">\n                  {this.renderInput(\n                    \"title\",\n                    \"\",\n                    \"text\",\n                    \"\",\n                    \"Titulo del documento\"\n                  )}\n                </div>\n\n                <div className=\"col-lg-3 col-md-3 col-sm-12\">\n                  {isUploading && (\n                    <div className=\"progress\" style={{ marginTop: \"38px\" }}>\n                      <div\n                        className=\"progress-bar\"\n                        role=\"progressbar\"\n                        style={{ width: `${progress}%` }}\n                        aria-valuenow={progress}\n                        aria-valuemin=\"0\"\n                        aria-valuemax=\"100\"\n                      >\n                        {progress}%\n                      </div>\n                    </div>\n                  )}\n                  {!isUploading && (\n                    <label style={{ marginTop: \"35px\" }}>\n                      <FileUploader\n                        hidden\n                        accept=\"*\"\n                        name=\"document\"\n                        randomizeFilename\n                        storageRef={firebase.storage().ref(\"documents\")}\n                        onUploadStart={this.handleUploadStart}\n                        onUploadError={this.handleUploadError}\n                        onUploadSuccess={this.handleUploadSuccess}\n                        onProgress={this.handleProgress}\n                      />\n                      <h6 className=\"text-info\" style={{ cursor: \"pointer\" }}>\n                        {this.state.data.document_url && (\n                          <span className=\"fa fa-file text-warning\"></span>\n                        )}{\" \"}\n                        Cargar documento\n                      </h6>\n                    </label>\n                  )}\n                </div>\n\n                <div\n                  className=\"col-lg-3 col-md-3 col-sm-12\"\n                  style={{ marginTop: \"25px\" }}\n                >\n                  {this.renderButton(\"Guardar\")}\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div>\n          <div className=\"row\">\n            <div className=\"col\">\n              {documents.length > 0 && (\n                <div style={{ minHeight: \"370px\" }}>\n                  <DocumentsTable\n                    documents={documents}\n                    sortColumn={{ path: \"name\", order: \"asc\" }}\n                    onDelete={this.handleDeleteDocument}\n                    onEdit={this.handleEditDocument}\n                    onSort={this.handleSort}\n                  />\n                </div>\n              )}\n\n              {!documents.length > 0 && (\n                <div\n                  className=\"text-center mt-3\"\n                  style={{ paddingBottom: \"10rem\" }}\n                >\n                  <span\n                    className=\"fa fa-folder-open text-muted\"\n                    style={{ fontSize: \"7em\" }}\n                  ></span>\n                  <h2 className=\"text-secondary\">\n                    Aún no ha agregado documentos\n                  </h2>\n                  <h4 className=\"text-secondary\">Buen momento para iniciar</h4>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default DocumentInfo;\n","import React, { Component } from \"react\";\nimport TabsAthlete from \"../common/tabsAthlete\";\nimport PhotoProfile from \"../common/photoProfile\";\nimport PersonalInfo from \"../personalInfo\";\nimport ParentInfo from \"../parentInfo\";\nimport DocumentInfo from \"../documentInfo\";\n\nclass AthleteForm extends Component {\n  state = {\n    data: {\n      photo: \"\",\n      filename: \"\"\n    }\n  };\n\n  handleChangePhoto = photo => {\n    if (photo.changed) {\n      sessionStorage[\"newPhoto\"] = photo.url;\n      sessionStorage[\"newPhoto_filename\"] = photo.filename;\n    }\n\n    const data = { ...this.state.data };\n    data.photo = photo.url;\n    data.filename = photo.filename;\n\n    this.setState({ data });\n  };\n\n  render() {\n    return (\n      <div className=\"container col-lg-8 col-md-12 col-sm-12 shadow pb-1 bg-white\">\n        <div className=\"text-center mb-2 pt-1\">\n          <div className=\"text-center\">\n            <PhotoProfile\n              photo={this.state.data.photo}\n              onChangePhoto={this.handleChangePhoto}\n            />\n          </div>\n          <div className=\"mt-2\">\n            <TabsAthlete {...this.props} />\n          </div>\n        </div>\n\n        <div className=\"tab-content\" id=\"myTabContent\">\n          <div\n            className=\"tab-pane fade show active pb-2\"\n            id=\"profile\"\n            role=\"tabpanel\"\n            aria-labelledby=\"profile-tab\"\n          >\n            <PersonalInfo\n              {...this.props}\n              onChangePhoto={this.handleChangePhoto}\n            />\n          </div>\n\n          <div\n            className=\"tab-pane fade\"\n            id=\"parent\"\n            role=\"tabpanel\"\n            aria-labelledby=\"parent-tab\"\n          >\n            <ParentInfo {...this.props} />\n          </div>\n\n          <div\n            className=\"tab-pane fade\"\n            id=\"document\"\n            role=\"tabpanel\"\n            aria-labelledby=\"document-tab\"\n          >\n            <DocumentInfo {...this.props} />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AthleteForm;\n","import React from \"react\";\n\nconst NotFound = () => {\n  return <h1>NotFound</h1>;\n};\n\nexport default NotFound;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst NavBar = ({ user }) => {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-light  shadow\">\n      <NavLink className=\"navbar-brand\" to=\"/\">\n        <img\n          width=\"60px\"\n          src=\"https://firebasestorage.googleapis.com/v0/b/fenix-system-8a811.appspot.com/o/photos%2Ffenix.png?alt=media&token=8cf3ea67-39be-4647-8b2e-88a9966805e6\"\n          alt=\"FENIX\"\n        />\n      </NavLink>\n\n      <button\n        className=\"navbar-toggler\"\n        type=\"button\"\n        data-toggle=\"collapse\"\n        data-target=\"#navbarTogglerDemo02\"\n        aria-controls=\"navbarTogglerDemo02\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n\n      {!user && (\n        <div className=\"text-center w-100\">\n          <h2 className=\"text-fenix-blue\">Club Acuático LOS FÉNIX</h2>\n        </div>\n      )}\n\n      <div className=\"collapse navbar-collapse\" id=\"navbarTogglerDemo02\">\n        <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n          {user && (\n            <li className=\"nav-item\">\n              <a href=\"/athletes/\" className=\"nav-link\">\n                Atletas\n              </a>\n            </li>\n          )}\n\n          {user && user.role === \"Admin\" && (\n            <li className=\"nav-item\">\n              <NavLink className=\"nav-link\" to=\"/users\">\n                Usuarios\n              </NavLink>\n            </li>\n          )}\n        </ul>\n\n        <div className=\"navbar-text\">\n          {!user && (\n            <React.Fragment>\n              <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link\" to=\"/login\">\n                    Iniciar sesión\n                  </NavLink>\n                </li>\n              </ul>\n            </React.Fragment>\n          )}\n        </div>\n\n        <div className=\"navbar-text\">\n          {user && (\n            <React.Fragment>\n              <ul className=\"navbar-nav mr-auto mt-2 mt-lg-0\">\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link mr-sm-2 active\" to=\"/profile\">\n                    {user.name}\n                  </NavLink>\n                </li>\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link my-2 my-sm-0\" to=\"/logout\">\n                    Cerrar sesión\n                  </NavLink>\n                </li>\n              </ul>\n            </React.Fragment>\n          )}\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Joi from \"joi-browser\";\nimport Form from \"../common/form\";\nimport auth from \"../../services/authService\";\nimport { toast } from \"react-toastify\";\n\nclass LoginForm extends Form {\n  state = {\n    data: { email: \"\", password: \"\" },\n    errors: {}\n  };\n\n  schema = {\n    email: Joi.string()\n      .required()\n      .label(\"Email\"),\n    password: Joi.string()\n      .required()\n      .label(\"Contraseña\")\n  };\n\n  doSubmit = async () => {\n    try {\n      const { data: credentials } = this.state;\n      await auth.login(credentials);\n\n      const { state } = this.props.location;\n      window.location = state ? state.from.pathname : \"/\";\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        toast.error(\"Email/Contraseña incorrecto.\");\n\n      if (ex.response && ex.response.status === 400) {\n        const errors = { ...this.state.errors };\n        errors.email = ex.response.data;\n        this.setState({ errors });\n      }\n    }\n  };\n\n  render() {\n    if (auth.getCurrentUser()) return <Redirect to=\"/\" />;\n\n    return (\n      <div className=\"container col-lg-4 col-md-6 col-sm-11 shadow p-3 mb-5 bg-white rounded\">\n        <h2 className=\"bg-fenix-blue text-light pl-2 pr-2 pt-1 pb-1\">\n          Entrar al Sistema\n        </h2>\n        <div className=\"col-12 pb-3 bg-light\">\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput(\"email\", \"Email\")}\n            {this.renderInput(\"password\", \"Contraseña\", \"password\")}\n\n            {this.renderButton(\"Login\")}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoginForm;\n","import { Component } from \"react\";\nimport auth from \"../services/authService\";\n\nclass Logout extends Component {\n  componentDidMount() {\n    auth.logout();\n    window.location = \"/login\";\n  }\n\n  render() {\n    return null;\n  }\n}\n\nexport default Logout;\n","import http from \"./httpService\";\n\nconst apiEndpoint = `/users`;\n\nfunction userUrl(id) {\n  return `${apiEndpoint}/${id}`;\n}\n\nexport function getUsers() {\n  return http.get(`${apiEndpoint}/`);\n}\n\nexport function getUser(userId) {\n  return http.get(`${apiEndpoint}/?id=${userId}`);\n}\n\nexport function getUserByEmail(email) {\n  return http.get(`${apiEndpoint}/?email=${email}`);\n}\n\nexport function getEmailExists(companyId, email) {\n  return http.get(`${apiEndpoint}/?company=${companyId}&email=${email}`);\n}\n\nexport function saveUser(user) {\n  if (user.id) {\n    const body = { ...user };\n    delete body.id;\n    return http.put(userUrl(user.id), body);\n  }\n\n  return http.post(`${apiEndpoint}/`, user);\n}\n\nexport function deleteUser(userId) {\n  return http.delete(userUrl(userId));\n}\n\nexport function register(user) {\n  return http.post(`${apiEndpoint}/`, {\n    email: user.username,\n    password: user.password,\n    name: user.name\n  });\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Table from \"../common/table\";\nimport auth from \"../../services/authService\";\n\nclass UsersTable extends Component {\n  columns = [\n    {\n      path: \"name\",\n      label: \"Nombre\",\n      content: user => <Link to={`/user/${user.id}`}> {user.name} </Link>\n    },\n    { path: \"email\", label: \"Email\" },\n    { path: \"user_role\", label: \"Rol\" },\n    { path: \"creation_date\", label: \"Creado\" }\n  ];\n\n  deleteColumn = {\n    key: \"delete\",\n    content: user => (\n      <div className=\"text-center\">\n        <button\n          onClick={() => this.props.onDelete(user)}\n          className=\"fa fa-trash\"\n          style={{ color: \"red\", fontSize: \"16px\" }}\n        ></button>\n      </div>\n    )\n  };\n\n  constructor() {\n    super();\n    const user = auth.getCurrentUser().email;\n    const role = auth.getCurrentUser().role;\n\n    if (user && (role === \"Admin\" || role === \"Owner\"))\n      this.columns.push(this.deleteColumn);\n  }\n\n  render() {\n    const { users, sortColumn, onSort } = this.props;\n\n    return (\n      <Table\n        columns={this.columns}\n        data={users}\n        sortColumn={sortColumn}\n        onSort={onSort}\n      />\n    );\n  }\n}\n\nexport default UsersTable;\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport _ from \"lodash\";\nimport Pagination from \"./common/pagination\";\nimport SearchBox from \"./common/searchBox\";\nimport NewButton from \"./common/newButton\";\nimport { paginate } from \"../utils/paginate\";\nimport { getUsers, deleteUser } from \"../services/userService\";\nimport UsersTable from \"./tables/usersTable\";\n\nclass Users extends Component {\n  state = {\n    users: [],\n    currentPage: 1,\n    pageSize: 10,\n    searchQuery: \"\",\n    sortColumn: { path: \"name\", order: \"asc\" }\n  };\n\n  async componentDidMount() {\n    const { data: users } = await getUsers();\n\n    this.setState({ users });\n  }\n\n  handleDelete = async user => {\n    const answer = window.confirm(\n      \"Esta seguro de eliminar este usuario? \\nNo podrá deshacer esta acción\"\n    );\n    if (answer) {\n      const originalUsers = this.state.users;\n      const users = this.state.users.filter(m => m.id !== user.id);\n      this.setState({ users });\n\n      try {\n        await deleteUser(user.id);\n      } catch (ex) {\n        if (ex.response && ex.response.status === 404)\n          toast.error(\"Este usuario ya fue eliminado\");\n\n        this.setState({ users: originalUsers });\n      }\n    }\n  };\n\n  handlePageChange = page => {\n    this.setState({ currentPage: page });\n  };\n\n  handleSearch = query => {\n    this.setState({ searchQuery: query, currentPage: 1 });\n  };\n\n  handleSort = sortColumn => {\n    this.setState({ sortColumn });\n  };\n\n  getPagedData = () => {\n    const {\n      pageSize,\n      currentPage,\n      sortColumn,\n      searchQuery,\n      users: allUsers\n    } = this.state;\n\n    let filtered = allUsers;\n    if (searchQuery)\n      filtered = allUsers.filter(m =>\n        m.name.toLowerCase().startsWith(searchQuery.toLocaleLowerCase())\n      );\n\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\n\n    const users = paginate(sorted, currentPage, pageSize);\n\n    return { totalCount: filtered.length, users };\n  };\n\n  render() {\n    const { pageSize, currentPage, sortColumn, searchQuery } = this.state;\n    const { user } = this.props;\n\n    const { totalCount, users } = this.getPagedData();\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col margin-top-msg\">\n            <div className=\"mb-4\">\n              <NewButton label=\"Nuevo Usuario\" to=\"/user/new\" />\n            </div>\n\n            <SearchBox\n              value={searchQuery}\n              onChange={this.handleSearch}\n              placeholder=\"Buscar...\"\n            />\n            <UsersTable\n              users={users}\n              user={user}\n              sortColumn={sortColumn}\n              onDelete={this.handleDelete}\n              onSort={this.handleSort}\n            />\n\n            <div className=\"row\">\n              <Pagination\n                itemsCount={totalCount}\n                pageSize={pageSize}\n                currentPage={currentPage}\n                onPageChange={this.handlePageChange}\n              />\n              <p className=\"text-muted ml-3 mt-2\">\n                <em>Mostrando {totalCount} usuarios</em>\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Users;\n","import React from \"react\";\nimport Joi from \"joi-browser\";\nimport Form from \"../common/form\";\nimport { getUser, saveUser, getEmailExists } from \"../../services/userService\";\nimport { getCurrentUser } from \"../../services/authService\";\nimport { toast } from \"react-toastify\";\n\nclass UserForm extends Form {\n  state = {\n    data: {\n      id: 0,\n      email: \"\",\n      password: \"\",\n      name: \"\",\n      user_role: \"\",\n      user_hash: \"hash\",\n      created_user: getCurrentUser().email,\n      creation_date: new Date().toISOString()\n    },\n    roles: [\n      { id: \"Admin\", name: \"Admin\" },\n      { id: \"Level1\", name: \"Level1\" },\n      { id: \"Level2\", name: \"Level2\" },\n      { id: \"Reportes\", name: \"Reportes\" }\n    ],\n    errors: {},\n    action: \"Nuevo Usuario\"\n  };\n\n  schema = {\n    id: Joi.number(),\n    email: Joi.string()\n      .required()\n      .email()\n      .label(\"Email\"),\n    password: Joi.string()\n      .required()\n      .min(8)\n      .max(30)\n      .label(\"Password\"),\n    name: Joi.string()\n      .required()\n      .min(5)\n      .label(\"Nombre\"),\n    user_role: Joi.string()\n      .required()\n      .label(\"Rol\"),\n    user_hash: Joi.string().optional(),\n    created_user: Joi.string(),\n    creation_date: Joi.string()\n  };\n\n  async populateUser() {\n    try {\n      const userId = this.props.match.params.id;\n      if (userId === \"new\") return;\n\n      const { data: user } = await getUser(userId);\n\n      this.setState({\n        data: this.mapToViewModel(user),\n        action: \"Editar Usuario\"\n      });\n    } catch (ex) {\n      if (ex.response && ex.response.status === 404)\n        return this.props.history.replace(\"/not-found\");\n    }\n  }\n\n  async componentDidMount() {\n    await this.populateUser();\n  }\n\n  mapToViewModel(user) {\n    return {\n      id: user[0].id,\n      email: user[0].email,\n      password: user[0].password,\n      name: user[0].name,\n      user_role: user[0].user_role,\n      user_hash: user[0].user_hash ? user[0].user_hash : \"hash\",\n      created_user: user[0].created_user\n        ? user[0].created_user\n        : getCurrentUser().email,\n      creation_date: user[0].creation_date\n    };\n  }\n\n  doSubmit = async () => {\n    const { data: email } = await getEmailExists(\n      this.state.data.company_id,\n      this.state.data.email\n    );\n\n    if (email.length && this.state.data.id === 0) {\n      toast.error(\"Este email ya existe en el sistema.\");\n      return false;\n    }\n\n    await saveUser(this.state.data);\n\n    this.props.history.push(\"/users\");\n  };\n\n  render() {\n    return (\n      <div className=\"container pull-left col-5 ml-3 shadow p-3 mb-5 bg-white rounded\">\n        <h2 className=\"bg-fenix-blue text-fenix-yellow pl-2 pr-2 pt-1 pb-1\">\n          {this.state.action}\n        </h2>\n        <div className=\"col-12 pb-3 bg-light\">\n          <form onSubmit={this.handleSubmit}>\n            {this.renderInput(\"email\", \"Email\")}\n            {this.renderInput(\"password\", \"Contraseña\", \"password\")}\n            {this.renderInput(\"name\", \"Nombre\")}\n            {this.renderSelect(\"user_role\", \"Rol\", this.state.roles)}\n            {this.renderButton(\"Guardar\")}\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserForm;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport auth from \"../../services/authService\";\n\nconst ProtectedRoute = ({ component: Component, render, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (!auth.getCurrentUser())\n          return (\n            <Redirect\n              to={{\n                pathname: \"/login\",\n                state: { from: props.location }\n              }}\n            />\n          );\n        return Component ? <Component {...props} /> : render(props);\n      }}\n    />\n  );\n};\n\nexport default ProtectedRoute;\n","import React from \"react\";\n\nconst Home = () => {\n  return (\n    <div className=\"text-center\">\n      <img\n        style={{ width: \"50%\" }}\n        src=\"https://firebasestorage.googleapis.com/v0/b/fenix-system-8a811.appspot.com/o/photos%2Ffenix.png?alt=media&token=8cf3ea67-39be-4647-8b2e-88a9966805e6\"\n        alt=\"FENIX\"\n      />\n    </div>\n  );\n};\n\nexport default Home;\n","const firebaseConfig = {\n  apiKey: \"AIzaSyB0F_8xnemOLHTjKhfgrfQJ4IOhUK3wNks\",\n  authDomain: \"fenix-system-8a811.firebaseapp.com\",\n  databaseURL: \"https://fenix-system-8a811.firebaseio.com\",\n  projectId: \"fenix-system-8a811\",\n  storageBucket: \"fenix-system-8a811.appspot.com\",\n  messagingSenderId: \"720726421406\",\n  appId: \"1:720726421406:web:19084106664ebc5d13308f\",\n  measurementId: \"G-XQ9YT4CJ40\"\n};\n\nexport default firebaseConfig;\n","import React, { Component } from \"react\";\nimport { Route, Redirect, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\nimport Athletes from \"./components/athletes\";\nimport AthleteForm from \"./components/forms/athleteForm\";\nimport NotFound from \"./components/notFound\";\nimport NavBar from \"./components/navBar\";\nimport LoginForm from \"./components/forms/loginForm\";\nimport Logout from \"./components/logout\";\n// import PrintInvoice from \"./components/reports/printInvoice\";\nimport Users from \"./components/users\";\nimport UserForm from \"./components/forms/userForm\";\nimport ProtectedRoute from \"./components/common/protectedRoute\";\nimport auth from \"./services/authService\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./App.css\";\nimport Home from \"./components/home\";\nimport firebaseConfig from \"./firebaseConfig\";\nimport firebase from \"firebase/app\";\n\nfirebase.initializeApp(firebaseConfig);\n\nclass App extends Component {\n  state = {\n    user: {}\n  };\n\n  componentDidMount() {\n    try {\n      const user = auth.getCurrentUser();\n\n      this.setState({ user });\n    } catch (ex) {\n      if (window.location.pathname !== \"/login\")\n        window.location.replace(\"/login\");\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <ToastContainer />\n        <NavBar user={this.state.user} />\n        <main>\n          <Switch>\n            <Route path=\"/login\" component={LoginForm} />\n            <Route path=\"/logout\" component={Logout} />\n            {/* <Route path=\"/invoicePrint/:id\" component={PrintInvoice} /> */}\n\n            <ProtectedRoute path=\"/athletes\" component={Athletes} />\n            <ProtectedRoute path=\"/athlete/:id\" component={AthleteForm} />\n            <ProtectedRoute path=\"/users\" component={Users} />\n            <ProtectedRoute path=\"/user/:id\" component={UserForm} />\n            <Route exact path=\"/\" component={Home} />\n            <Route path=\"/not-found\" component={NotFound} />\n            <Redirect to=\"/not-found\" />\n          </Switch>\n        </main>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"bootstrap\";\nimport \"bootstrap/dist/js/bootstrap.js\";\n// import $ from \"jquery\";\n// import Popper from \"popper.js\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"font-awesome/css/font-awesome.css\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}